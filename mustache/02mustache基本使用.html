<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="list">
</div>
<script type="module">
    import mustache from "./lib/mustache.js";
    // å¾ªç¯å¯¹è±¡æ•°ç»„
    let arr =[{name:'a'},{name:'b'}]
    let view = {
        arr:arr
    }
    let code = `
        {{#arr}}
        <p>{{name}}</p>
        {{/arr}}
    `
    let result = mustache.render(code,view)
    let list = document.getElementById('list')
    list.innerHTML += result;

    // æ·»åŠ 
    let obj = {name:'haha',age:3}
    let code1 = `<div>name:{{name}},å¹´é¾„ï¼š{{age}}</div>`
    let result1 = mustache.render(code1,obj)
    list.innerHTML += result1;

    // å¾ªç¯ç®€å•æ•°ç»„, ä½¿ç”¨ . è¡¨ç¤ºæ•°ç»„å…ƒç´ 
    let arr1 = ['ğŸ','å¥³æœ‹å‹']
    let obj1 = {
        other:arr1
    }
    let code2 = `<ul>{{#other}}<li>{{.}}</li>{{/other}}</ul>`
    let result2 = mustache.render(code2,obj1)
    list.innerHTML += result2;

    // å¤šå±‚åµŒå¥—
    let arr2 = [{name:'1',jobs:['æ‰“çƒ','æ‹–åœ°']},{name:'æˆ‘æ˜¯',jobs:['hihi','å“ˆå“ˆ']}]
    let obj2 = {
        all: arr2
    }
    let code3 = `
        {{#all}}
            <div>{{name}}</div>
            <ul class="arr">
               {{#jobs}}
                    <li>{{.}}</li>
               {{/jobs}}
            </ul>
        {{/all}}
    `
    let result3 = mustache.render(code3,obj2)
    list.innerHTML += result3;

    // å¸ƒå°”å€¼ï¼Œä¸ºfalseä¸æ¸²æŸ“ï¼
    let bool = {
        b: false
    }
    let code4 = `<div class="bool">{{#b}}<p>boolå€¼</p>{{/b}}</div>`
    let result4 = mustache.render(code4,bool)
    list.innerHTML += result4;
    setTimeout(()=>{
        bool.b = true;
        let result4 = mustache.render(code4,bool)
        list.innerHTML += result4;
    },1000)
</script>
</body>
</html>
